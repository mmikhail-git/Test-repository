Протокол Waves-NG
========================================

Waves-NG - это протокол, разработанный на основе Bitcoin-NG специально для Waves Platform, его основная идея -
уменьшить задержку попадания транзакции пользователя в блокчейн.
В Waves-NG используется концепция Liquid Block, позволяющая майнеру продолжать создание блока непрерывно на протяжении всей эпохи: в начале эпохи майнер создает ключевой блок,
который затем, на протяжении эпохи, наполняется микро-блоками с транзакциями, при том что в PoS и PoA алгоритмах консенсуса от майнера не требуется затратить большие ресурсы для публикации блока,
то мы имеем более эффективную и быструю систему, по сравнению с PoW решениями.  
Этот блок будет являться неизменным, как-то только следующий майнер выпустит свой блок, сославишись на него.
Испоьзуя такой подход, увеличивается пропускная способность сети, а так же снижается время подтверждения транзакции по сравнению с более традиционными решениями, как то Ethereum и Bitcoin.

Далее приведем сравнение пропускных способностей (максимальное кол-во транзакций в секунду) у популярных блокчейн платформ.

.. image:: img/wavesng_speed_comparison.jpg
    :scale: 80%
    :align: center

1. Процесс создания Liquid Block
------------------------------------
#. Майнер получает разрешение создать блок.
#. Майнер создает и рассылает по сети Ключевой блок, который не содержит транзакций. В нем находится только coinbase транзакция, задающая публичный ключ майнера, который авторизован для подписания следующих далее микроблоков. Поскольку выпуск ключевого блока возможен по предоставлению доказательства доли, другие майнеры не имеют прав на выпуск данного ключевого блока.
#. Каждые 3 секунды майнер создает и рассылает по сети микро-блок, который содержит транзакции. Он должен ссылать на предыдущий микро или ключевой блок. Мкро-блок подписывается приватным ключем майнера парным его публичному ключу, который указан в coinbase транзакции ключевого блока.
#. Процесс продолжается до тех пор, пока в сети не появится новый валидный ключевой блок.

2. Механизм вознаграждения майнеров в Waves-NG
-----------------------------------------------------------
В протоколе так же предусмотрена финансовая мотивация соблюдения правил для участников. 
В частности награда в виде комиссий за совершенные транзакции делится: 40% комиссии отдается текущему майнеру, который непосредственно добавил в блокчейн эти транзакции,
а 60% - майнеру следующего ключевого блока. Транзакция по начислению комиссии происходил через 100 блоков (считается безопасным интервалом для совершения данного рода операции).
Таким образом если текущий майнер захочет обмануть систему и записать конфликтующие микроблоки, то его обман будет вскрыт следующим майнером, который и заберет всю комиссию за транзакции,
делая попытку обмана финансово невыгодной.

Далее приведем графическую схему разделения комиссий.

.. image:: img/miner_reward.jpg
    :scale: 80%
    :align: center